/***********************************************************************
This file is generated by: Vczh Parser Generator
From parser definition:Json
Licensed under https://github.com/vczh-libraries/License
***********************************************************************/

#ifndef VCZH_PARSER2_BUILTIN_JSON_JSONPARSER_SYNTAX
#define VCZH_PARSER2_BUILTIN_JSON_JSONPARSER_SYNTAX

#include "Json_Assembler.h"
#include "Json_Lexer.h"

namespace vl
{
	namespace glr
	{
		namespace json
		{
			enum class JsonParserStates
			{
				JLiteral = 0,
				JField = 7,
				JObject = 12,
				JArray = 18,
				JValue = 24,
				JRoot = 29,
			};

			template<JsonParserStates> struct JsonParserStateTypes;
			template<> struct JsonParserStateTypes<JsonParserStates::JRoot> { using Type = vl::glr::json::JsonNode; };

			const wchar_t* JsonParserRuleName(vl::vint index);
			const wchar_t* JsonParserStateLabel(vl::vint index);
			extern void JsonJsonParserData(vl::stream::IStream& outputStream);

			class JsonParser
				: public vl::glr::ParserBase<JsonTokens, JsonParserStates, JsonAstInsReceiver, JsonParserStateTypes>
				, protected vl::glr::automaton::TraceManager::ITypeCallback
			{
			protected:
				vl::vint32_t FindCommonBaseClass(vl::vint32_t class1, vl::vint32_t class2) override;
			public:
				JsonParser();

				vl::Ptr<vl::glr::json::JsonNode> ParseJRoot(const vl::WString & input, vl::vint codeIndex = -1);
			};
		}
	}
}
#endif