class Plus
{
}

ambiguous class Feature
{
}

enum OptionalProprity
{
    Equal,
    PreferTake,
    PreferSkip,
}

class OptionalFeature : Feature
{
    var priority : OptionalProprity;
    var optional : Plus;
    var loop : Plus[];
}

class NestedOptionalFeature : Feature
{
    var optional : Plus;
    var tail1 : Plus;
    var tail2 : Plus;
    var tail3 : Plus;
    var tails : Plus[];
}