/***********************************************************************
This file is generated by: Vczh Parser Generator
From parser definition:ExprAst
Licensed under https://github.com/vczh-libraries/License
***********************************************************************/

#include "GenericAmbiguityExprAst.h"

namespace genericambiguity
{
/***********************************************************************
Visitor Pattern Implementation
***********************************************************************/

	void RefExpr::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}

	void GenericExpr::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}

	void CallExpr::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}

	void PostfixExpr::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}

	void DecrementExpr::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}

	void BinaryExpr::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}

	void ExprToResolve::Accept(Expr::IVisitor* visitor)
	{
		visitor->Visit(this);
	}
}
namespace vl
{
	namespace reflection
	{
		namespace description
		{
#ifndef VCZH_DEBUG_NO_REFLECTION

			IMPL_TYPE_INFO_RENAME(genericambiguity::Expr, genericambiguity::Expr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::Expr::IVisitor, genericambiguity::Expr::IVisitor)
			IMPL_TYPE_INFO_RENAME(genericambiguity::RefExpr, genericambiguity::RefExpr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::GenericExpr, genericambiguity::GenericExpr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::CallExpr, genericambiguity::CallExpr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::PostfixOp, genericambiguity::PostfixOp)
			IMPL_TYPE_INFO_RENAME(genericambiguity::PostfixExpr, genericambiguity::PostfixExpr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::DecrementExpr, genericambiguity::DecrementExpr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::BinaryOp, genericambiguity::BinaryOp)
			IMPL_TYPE_INFO_RENAME(genericambiguity::BinaryExpr, genericambiguity::BinaryExpr)
			IMPL_TYPE_INFO_RENAME(genericambiguity::Module, genericambiguity::Module)
			IMPL_TYPE_INFO_RENAME(genericambiguity::ExprToResolve, genericambiguity::ExprToResolve)

#ifdef VCZH_DESCRIPTABLEOBJECT_WITH_METADATA

			BEGIN_CLASS_MEMBER(genericambiguity::Expr)
				CLASS_MEMBER_BASE(vl::glr::ParsingAstBase)

			END_CLASS_MEMBER(genericambiguity::Expr)

			BEGIN_CLASS_MEMBER(genericambiguity::RefExpr)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::RefExpr>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(name)
			END_CLASS_MEMBER(genericambiguity::RefExpr)

			BEGIN_CLASS_MEMBER(genericambiguity::GenericExpr)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::GenericExpr>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(name)
				CLASS_MEMBER_FIELD(args)
			END_CLASS_MEMBER(genericambiguity::GenericExpr)

			BEGIN_CLASS_MEMBER(genericambiguity::CallExpr)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::CallExpr>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(func)
				CLASS_MEMBER_FIELD(args)
			END_CLASS_MEMBER(genericambiguity::CallExpr)

			BEGIN_ENUM_ITEM(genericambiguity::PostfixOp)
				ENUM_ITEM_NAMESPACE(genericambiguity::PostfixOp)
				ENUM_NAMESPACE_ITEM(Add)
				ENUM_NAMESPACE_ITEM(Sub)
				ENUM_NAMESPACE_ITEM(Increment)
			END_ENUM_ITEM(genericambiguity::PostfixOp)

			BEGIN_CLASS_MEMBER(genericambiguity::PostfixExpr)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::PostfixExpr>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(op)
				CLASS_MEMBER_FIELD(expr)
			END_CLASS_MEMBER(genericambiguity::PostfixExpr)

			BEGIN_CLASS_MEMBER(genericambiguity::DecrementExpr)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::DecrementExpr>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(expr)
			END_CLASS_MEMBER(genericambiguity::DecrementExpr)

			BEGIN_ENUM_ITEM(genericambiguity::BinaryOp)
				ENUM_ITEM_NAMESPACE(genericambiguity::BinaryOp)
				ENUM_NAMESPACE_ITEM(LT)
				ENUM_NAMESPACE_ITEM(GT)
			END_ENUM_ITEM(genericambiguity::BinaryOp)

			BEGIN_CLASS_MEMBER(genericambiguity::BinaryExpr)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::BinaryExpr>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(op)
				CLASS_MEMBER_FIELD(left)
				CLASS_MEMBER_FIELD(right)
			END_CLASS_MEMBER(genericambiguity::BinaryExpr)

			BEGIN_CLASS_MEMBER(genericambiguity::Module)
				CLASS_MEMBER_BASE(vl::glr::ParsingAstBase)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::Module>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(expr)
			END_CLASS_MEMBER(genericambiguity::Module)

			BEGIN_CLASS_MEMBER(genericambiguity::ExprToResolve)
				CLASS_MEMBER_BASE(genericambiguity::Expr)

				CLASS_MEMBER_CONSTRUCTOR(vl::Ptr<genericambiguity::ExprToResolve>(), NO_PARAMETER)

				CLASS_MEMBER_FIELD(candidates)
			END_CLASS_MEMBER(genericambiguity::ExprToResolve)

			BEGIN_INTERFACE_MEMBER(genericambiguity::Expr::IVisitor)
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::ExprToResolve* node))
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::RefExpr* node))
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::GenericExpr* node))
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::CallExpr* node))
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::PostfixExpr* node))
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::DecrementExpr* node))
				CLASS_MEMBER_METHOD_OVERLOAD(Visit, {L"node"}, void(genericambiguity::Expr::IVisitor::*)(genericambiguity::BinaryExpr* node))
			END_INTERFACE_MEMBER(genericambiguity::Expr)

#endif

#ifdef VCZH_DESCRIPTABLEOBJECT_WITH_METADATA
			class GenericAmbiguityExprAstTypeLoader : public vl::Object, public ITypeLoader
			{
			public:
				void Load(ITypeManager* manager)
				{
					ADD_TYPE_INFO(genericambiguity::Expr)
					ADD_TYPE_INFO(genericambiguity::Expr::IVisitor)
					ADD_TYPE_INFO(genericambiguity::RefExpr)
					ADD_TYPE_INFO(genericambiguity::GenericExpr)
					ADD_TYPE_INFO(genericambiguity::CallExpr)
					ADD_TYPE_INFO(genericambiguity::PostfixOp)
					ADD_TYPE_INFO(genericambiguity::PostfixExpr)
					ADD_TYPE_INFO(genericambiguity::DecrementExpr)
					ADD_TYPE_INFO(genericambiguity::BinaryOp)
					ADD_TYPE_INFO(genericambiguity::BinaryExpr)
					ADD_TYPE_INFO(genericambiguity::Module)
					ADD_TYPE_INFO(genericambiguity::ExprToResolve)
				}

				void Unload(ITypeManager* manager)
				{
				}
			};
#endif
#endif

			bool GenericAmbiguityExprAstLoadTypes()
			{
#ifdef VCZH_DESCRIPTABLEOBJECT_WITH_METADATA
				if (auto manager = GetGlobalTypeManager())
				{
					Ptr<ITypeLoader> loader = new GenericAmbiguityExprAstTypeLoader;
					return manager->AddTypeLoader(loader);
				}
#endif
				return false;
			}
		}
	}
}
