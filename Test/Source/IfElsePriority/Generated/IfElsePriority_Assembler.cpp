/***********************************************************************
This file is generated by: Vczh Parser Generator
From parser definition:IfElsePriority
Licensed under https://github.com/vczh-libraries/License
***********************************************************************/

#include "IfElsePriority_Assembler.h"

namespace ifelsepriority
{

/***********************************************************************
IfElsePriorityAstInsReceiver : public vl::glr::AstInsReceiverBase
***********************************************************************/

	vl::Ptr<vl::glr::ParsingAstBase> IfElsePriorityAstInsReceiver::CreateAstNode(vl::vint32_t type)
	{
		switch((IfElsePriorityClasses)type)
		{
		case IfElsePriorityClasses::BlockStat:
			return new ifelsepriority::BlockStat();
		case IfElsePriorityClasses::DoStat:
			return new ifelsepriority::DoStat();
		case IfElsePriorityClasses::IfStat:
			return new ifelsepriority::IfStat();
		case IfElsePriorityClasses::Module:
			return new ifelsepriority::Module();
		case IfElsePriorityClasses::Stat:
			throw vl::glr::AstInsException(L"Unable to create abstract class \"ifelsepriority::Stat\".", vl::glr::AstInsErrorType::UnknownType, type);
		default:
			throw vl::glr::AstInsException(L"The type id does not exist.", vl::glr::AstInsErrorType::UnknownType, type);
		}
	}

	void IfElsePriorityAstInsReceiver::SetField(vl::glr::ParsingAstBase* object, vl::vint32_t field, vl::Ptr<vl::glr::ParsingAstBase> value)
	{
		auto cppFieldName = IfElsePriorityCppFieldName((IfElsePriorityFields)field);
		switch((IfElsePriorityFields)field)
		{
		case IfElsePriorityFields::BlockStat_stats:
			return vl::glr::AssemblerSetObjectField(&ifelsepriority::BlockStat::stats, object, field, value, cppFieldName);
		case IfElsePriorityFields::IfStat_elseBranch:
			return vl::glr::AssemblerSetObjectField(&ifelsepriority::IfStat::elseBranch, object, field, value, cppFieldName);
		case IfElsePriorityFields::IfStat_thenBranch:
			return vl::glr::AssemblerSetObjectField(&ifelsepriority::IfStat::thenBranch, object, field, value, cppFieldName);
		case IfElsePriorityFields::Module_stat:
			return vl::glr::AssemblerSetObjectField(&ifelsepriority::Module::stat, object, field, value, cppFieldName);
		default:
			if (cppFieldName)
				throw vl::glr::AstInsException(vl::WString::Unmanaged(L"Field \"") + vl::WString::Unmanaged(cppFieldName) + vl::WString::Unmanaged(L"\" is not an object."), vl::glr::AstInsErrorType::ObjectTypeMismatchedToField, field);
			else
				throw vl::glr::AstInsException(L"The field id does not exist.", vl::glr::AstInsErrorType::UnknownField, field);
		}
	}

	void IfElsePriorityAstInsReceiver::SetField(vl::glr::ParsingAstBase* object, vl::vint32_t field, const vl::regex::RegexToken& token)
	{
		auto cppFieldName = IfElsePriorityCppFieldName((IfElsePriorityFields)field);
		switch((IfElsePriorityFields)field)
		{
		default:
			if (cppFieldName)
				throw vl::glr::AstInsException(vl::WString::Unmanaged(L"Field \"") + vl::WString::Unmanaged(cppFieldName) + vl::WString::Unmanaged(L"\" is not a token."), vl::glr::AstInsErrorType::ObjectTypeMismatchedToField, field);
			else
				throw vl::glr::AstInsException(L"The field id does not exist.", vl::glr::AstInsErrorType::UnknownField, field);
		}
	}

	void IfElsePriorityAstInsReceiver::SetField(vl::glr::ParsingAstBase* object, vl::vint32_t field, vl::vint32_t enumItem)
	{
		auto cppFieldName = IfElsePriorityCppFieldName((IfElsePriorityFields)field);
		switch((IfElsePriorityFields)field)
		{
		default:
			if (cppFieldName)
				throw vl::glr::AstInsException(vl::WString::Unmanaged(L"Field \"") + vl::WString::Unmanaged(cppFieldName) + vl::WString::Unmanaged(L"\" is not an enum item."), vl::glr::AstInsErrorType::ObjectTypeMismatchedToField, field);
			else
				throw vl::glr::AstInsException(L"The field id does not exist.", vl::glr::AstInsErrorType::UnknownField, field);
		}
	}

	const wchar_t* IfElsePriorityTypeName(IfElsePriorityClasses type)
	{
		const wchar_t* results[] = {
			L"BlockStat",
			L"DoStat",
			L"IfStat",
			L"Module",
			L"Stat",
		};
		vl::vint index = (vl::vint)type;
		return 0 <= index && index < 5 ? results[index] : nullptr;
	}

	const wchar_t* IfElsePriorityCppTypeName(IfElsePriorityClasses type)
	{
		const wchar_t* results[] = {
			L"ifelsepriority::BlockStat",
			L"ifelsepriority::DoStat",
			L"ifelsepriority::IfStat",
			L"ifelsepriority::Module",
			L"ifelsepriority::Stat",
		};
		vl::vint index = (vl::vint)type;
		return 0 <= index && index < 5 ? results[index] : nullptr;
	}

	const wchar_t* IfElsePriorityFieldName(IfElsePriorityFields field)
	{
		switch(field)
		{
		case IfElsePriorityFields::BlockStat_stats:
			return L"BlockStat::stats";
		case IfElsePriorityFields::IfStat_elseBranch:
			return L"IfStat::elseBranch";
		case IfElsePriorityFields::IfStat_thenBranch:
			return L"IfStat::thenBranch";
		case IfElsePriorityFields::Module_stat:
			return L"Module::stat";
		default:
			return nullptr;
		}
	}

	const wchar_t* IfElsePriorityCppFieldName(IfElsePriorityFields field)
	{
		switch(field)
		{
		case IfElsePriorityFields::BlockStat_stats:
			return L"ifelsepriority::BlockStat::stats";
		case IfElsePriorityFields::IfStat_elseBranch:
			return L"ifelsepriority::IfStat::elseBranch";
		case IfElsePriorityFields::IfStat_thenBranch:
			return L"ifelsepriority::IfStat::thenBranch";
		case IfElsePriorityFields::Module_stat:
			return L"ifelsepriority::Module::stat";
		default:
			return nullptr;
		}
	}

	vl::Ptr<vl::glr::ParsingAstBase> IfElsePriorityAstInsReceiver::ResolveAmbiguity(vl::vint32_t type, vl::collections::Array<vl::Ptr<vl::glr::ParsingAstBase>>& candidates)
	{
		auto cppTypeName = IfElsePriorityCppTypeName((IfElsePriorityClasses)type);
		switch((IfElsePriorityClasses)type)
		{
		default:
			if (cppTypeName)
				throw vl::glr::AstInsException(vl::WString::Unmanaged(L"Type \"") + vl::WString::Unmanaged(cppTypeName) + vl::WString::Unmanaged(L"\" is not configured to allow ambiguity."), vl::glr::AstInsErrorType::UnsupportedAmbiguityType, type);
			else
				throw vl::glr::AstInsException(L"The type id does not exist.", vl::glr::AstInsErrorType::UnknownType, type);
		}
	}
}
